<!DOCTYPE html>
<html>
    <head>
        <title>Lab 9</title>
    </head>

    <body >
        <button onclick ="mute()" type ="button">MUTE </button>
        <script >
            var context = new(window.AudioContext || window.webkitAudioContext)();

            var gain = context.createGain();
            gain.connect(context.destination);
            gain.gain.setValueAtTime(0, context.currentTime);

            var oscillator = context.createOscillator();
            oscillator.type = 'sawtooth';
            oscillator.frequency.value = 220;
            oscillator.connect(gain);
            //oscillator.start();

            function mute(){
                if(gain.gain.value == 0) {
                    gain.gain.setValueAtTime (1, context.currentTime );
                    
                }
                else { 
                    gain.gain.setValueAtTime (0, context.currentTime )
                    oscillator.start(); 
                }
            }
        </script>
    </body>
        
</html>

function score_music() {
    //     var context = new (window.AudioContext || window.webkitAudioContext)();
    
    //     var notes = [261.63, 329.63, 392.00]; // C → E → G
    
    //     notes.forEach((freq, i) => {
    //         var oscillator = context.createOscillator();
    //         var gain = context.createGain();
    
    //         oscillator.type = 'triangle'; // or 'triangle' for a softer sound
    //         oscillator.frequency.value = freq;
    
    //         oscillator.connect(gain);
    //         gain.connect(context.destination);
    
    //         let startTime = context.currentTime + i * 0.1;
    
    //         gain.gain.setValueAtTime(1, startTime);
    //         gain.gain.linearRampToValueAtTime(0, startTime + 0.2);
    
    //         oscillator.start(startTime);
    //         oscillator.stop(startTime + 0.25);
    //     });
    // }

    var context = new(window.AudioContext || window.webkitAudioContext)();

    var gain = context.createGain();
    gain.connect(context.destination);
    gain.gain.setValueAtTime(1, context.currentTime);
    gain.gain.linearRampToValueAtTime(0.5, context.currentTime + 0.01);
    gain.gain.linearRampToValueAtTime (0, context.currentTime + 0.2)

    var oscillator = context.createOscillator();
    oscillator.type = 'triangle';
    oscillator.frequency.value = 220;
    oscillator.connect(gain);
    oscillator.start();
    oscillator.stop(context.currentTime + 0.25);